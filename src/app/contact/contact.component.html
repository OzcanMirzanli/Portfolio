<div class="contact-container">
  <div class="contact-title">
    <h1>Contact</h1>
    <div class="purple-border-big"></div>
  </div>
  <div class="contact-section">
    <div class="contact-text">
      <h2>Got a problem to solve?</h2>
      <p>
        Contact me through this form, I am interested in hearing from you,
        knowing your ideas and contributing to your projects with my work.
      </p>
      <p>Need a Frontend developer? <b>Contact me!</b></p>
    </div>
    <form
      (ngSubmit)="onSubmit(contactForm)"
      #contactForm="ngForm"
      class="input-section"
    >
      <input
        #name="ngModel"
        [(ngModel)]="contactData.name"
        [ngClass]="{
          'valid-field': name.valid && name.touched,
          'invalid-field': !name.valid && name.touched
        }"
        type="text"
        name="name"
        placeholder="Your name"
        required
      />
      @if (!name.valid && name.touched) {
      <div class="required-container">
        <span>Your name is required</span>
      </div>
      }
      <input
        #email="ngModel"
        [(ngModel)]="contactData.email"
        [ngClass]="{
          'valid-field': email.valid && email.touched,
          'invalid-field': !email.valid && email.touched
        }"
        type="email"
        name="email"
        placeholder="Your email"
        required
        pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
      />
      @if (!email.valid && email.touched) {
      <div class="required-container">
        <span>Your email is required</span>
      </div>
      }
      <textarea
        #message="ngModel"
        [(ngModel)]="contactData.message"
        [ngClass]="{
          'valid-field': message.valid && message.touched,
          'invalid-field': !message.valid && message.touched
        }"
        placeholder="Your message"
        id="message"
        name="message"
        minlength="4"
        required
      ></textarea>
      @if (!message.valid && message.touched) {
      <div class="required-container">
        <span>Your message is empty</span>
      </div>
      }
      <div class="privacy-policy">
        <div class="check-box">
          <img
            [src]="checkboxImageSrc"
            (click)="checkBoxToggle()"
            alt="Checkbox"
          />
          <span
            >I've read the
            <a [routerLink]="['/privacy']" href="#" (click)="scrollToTop()"
              ><span class="purple">privacy policy </span></a
            >and agree to the processing of my data as outlined.</span
          >
        </div>
        <div
          *ngIf="!isChecked && isCheckboxTouched"
          class="required-container privacy-warning"
        >
          <span>Please accept the privacy policy.</span>
        </div>
      </div>

      <div class="button-container">
        <button
          class="designed-btn gray-btn"
          [ngClass]="{
            'green-btn': contactForm.valid && isChecked,
            'gray-btn': !contactForm.valid && !isChecked
          }"
          type="submit"
          value="Submit"
          [disabled]="!contactForm.valid || !isChecked"
        >
          Send message :)
        </button>
      </div>
    </form>
  </div>
  <div class="go-up-btn">
    <a href="#main-page">
      <img src="assets/img/go_up_btn.png" alt="go_up_btn" />
    </a>
  </div>
</div>
